(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"0668":function(t,a,e){},"713b":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-layout",{attrs:{view:"lHh Lpr lFf"}},[e("q-header",{staticClass:"bg-primary"},[e("q-toolbar",{staticClass:"constrain text-white"},[e("q-toolbar-title",{staticClass:"text-bold text-fredoka-one"},[t._v("\n        "+t._s(this.$store.appName)+"\n      ")]),e("div",[t._v("v"+t._s(t.version))])],1)],1),e("q-footer",{staticClass:"bg-white"},[e("app-install-banner"),e("app-update-banner"),e("q-tabs",{staticClass:"text-grey-10",attrs:{"active-color":"primary","indicator-color":"transparent"},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("q-route-tab",{attrs:{to:"/",name:"slideshow",icon:"panorama",label:"Slideshow"}}),e("q-route-tab",{attrs:{to:"/settings",name:"settings",icon:"settings",label:"Settings"}}),e("q-route-tab",{attrs:{to:"/help",name:"help",icon:"help",label:"Help"}})],1)],1),e("q-page-container",{staticClass:"bg-grey-1"},[e("router-view")],1)],1)},s=[],r=(e("e6cf"),e("c60b")),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("transition",{attrs:{appear:"","enter-active-class":"animated bounceIn","leave-active-class":"animated fadeOut"}},[this.$store.showAppUpdatedBanner?e("div",{staticClass:"banner-container bg-primary"},[e("div",{staticClass:"constrain-banner"},[e("q-banner",{staticClass:"bg-primary text-white",attrs:{name:"update-banner",dense:"","inline-actions":""},scopedSlots:t._u([{key:"avatar",fn:function(){return[e("q-avatar",{attrs:{name:"signal_wifi_off",color:"primary",icon:"system_update","font-size":"22px"}})]},proxy:!0},{key:"action",fn:function(){return[e("q-btn",{staticClass:"q-px-sm",attrs:{dense:"",flat:"",label:"Yes"},on:{click:function(a){return t.updateApp(!0)}}}),e("q-btn",{staticClass:"q-px-sm",attrs:{dense:"",flat:"",label:"No"},on:{click:function(a){return t.updateApp(!1)}}})]},proxy:!0}],null,!1,2216117024)},[e("b",[t._v(t._s(this.$store.appName)+" has an update pending, update now?")])])],1)]):t._e()])},o=[];let l=!1;var p={name:"AppUpdateBanner",data(){return{$store:r["b"]}},methods:{updateApp(t){this.$store.showAppUpdatedBanner=!1,t&&!l&&(l=!0,r["b"].registration&&r["b"].registration.waiting&&r["b"].registration.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload(!0))}}},c=p,u=e("2877"),d=e("54e1"),b=e("cb32"),h=e("9c40"),m=e("eebe"),f=e.n(m),v=Object(u["a"])(c,i,o,!1,null,null,null),g=v.exports;f()(v,"components",{QBanner:d["a"],QAvatar:b["a"],QBtn:h["a"]});var w=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("transition",{attrs:{appear:"","enter-active-class":"animated bounceIn","leave-active-class":"animated fadeOut"}},[t.showAppInstallBanner?e("div",{staticClass:"banner-container bg-primary"},[e("div",{staticClass:"constrain-banner"},[e("q-banner",{staticClass:"bg-primary text-white",attrs:{dense:"","inline-actions":""},scopedSlots:t._u([{key:"avatar",fn:function(){return[e("q-avatar",{attrs:{name:"signal_wifi_off",color:"primary",icon:"system_update","font-size":"22px"}})]},proxy:!0},{key:"action",fn:function(){return[e("q-btn",{staticClass:"q-px-sm",attrs:{dense:"",flat:"",label:"Yes"},on:{click:t.installApp}}),e("q-btn",{staticClass:"q-px-sm",attrs:{dense:"",flat:"",label:"Later"},on:{click:function(a){t.showAppInstallBanner=!1}}}),e("q-btn",{staticClass:"q-px-sm",attrs:{dense:"",flat:"",label:"Never"},on:{click:t.neverShowAppInstallBanner}})]},proxy:!0}],null,!1,2734498194)},[e("b",[t._v("Install "+t._s(this.$store.appName)+"?")])])],1)]):t._e()])},y=[];let q,I=!1;var _={name:"AppInstallBanner",data(){return{showAppInstallBanner:!1,$store:r["b"]}},methods:{installApp(){this.showAppInstallBanner=!1,q.prompt(),q.userChoice.then((t=>{"accepted"===t.outcome?(console.log("User accepted the install prompt"),this.neverShowAppInstallBanner()):console.log("User dismissed the install prompt")}))},neverShowAppInstallBanner(){this.showAppInstallBanner=!1,this.$q.localStorage.set("neverShowInstall",!0)}},mounted(){const t=this.$q.localStorage.getItem("neverShowInstall");t||window.addEventListener("beforeinstallprompt",(t=>{!0!==I&&(t.preventDefault(),q=t,I=!0,setTimeout((()=>{this.showAppInstallBanner=!0}),3e3))}))}},A=_,x=Object(u["a"])(A,w,y,!1,null,null,null),C=x.exports;f()(x,"components",{QBanner:d["a"],QAvatar:b["a"],QBtn:h["a"]});let B=null,$=null;var Q={name:"MainLayout",data(){return{tab:"settings",version:"0.0.112",$store:r["b"]}},components:{AppUpdateBanner:g,AppInstallBanner:C},methods:{updateRegistration(){r["b"].registration&&!r["b"].registration.waiting&&r["b"].registration.update()}},created(){B=setInterval(function(){this.updateRegistration()}.bind(this),18e5),$=setInterval(async function(){await this.$actions.loadImages(!0)}.bind(this),18e5)},async mounted(){this.updateRegistration();try{await this.$gAuth.initClient()}catch(t){console.log("error: "+t.message)}},beforeDestroy(){B&&clearInterval(B),$&&clearInterval($)}},k=Q,S=(e("83ec"),e("4d5a")),T=e("e359"),N=e("65c6"),U=e("6ac5"),L=e("7ff0"),O=e("429b"),E=e("7867"),R=e("09e3"),j=Object(u["a"])(k,n,s,!1,null,null,null);a["default"]=j.exports;f()(j,"components",{QLayout:S["a"],QHeader:T["a"],QToolbar:N["a"],QToolbarTitle:U["a"],QFooter:L["a"],QTabs:O["a"],QRouteTab:E["a"],QPageContainer:R["a"]})},"83ec":function(t,a,e){"use strict";e("0668")}}]);